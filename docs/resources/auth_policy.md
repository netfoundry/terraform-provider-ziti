---
page_title: "ziti_auth_policy Resource - terraform-provider-ziti"
subcategory: ""
description: |-
  Ziti Auth Policy Resource
---

# ziti_auth_policy (Resource)

Ziti Auth Policy Resource

## Example Usage

```terraform
data "ziti_external_jwt_signer" "test_external_jwt_signer_data" {
  name = "test_external_jwt_signer"
}

resource "ziti_auth_policy" "test_auth_policy" {
  name      = "test_auth_policy"
  primary   = {
    cert = {
      allowed             = true
      allow_expired_certs = true
    }
    ext_jwt = {
      allowed         = true
      allowed_signers = [data.ziti_external_jwt_signer.test_external_jwt_signer_data.id]
    }
    updb = {
      allowed                  = true
      lockout_duration_minutes = 10
    }
  }
  secondary = {
    require_totp = true
    jwt_signer   = data.ziti_external_jwt_signer.test_external_jwt_signer_data.id
  }
  tags = {
    cost = "test"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the auth policy
- `primary` (Attributes) (see [below for nested schema](#nestedatt--primary))
- `secondary` (Attributes) (see [below for nested schema](#nestedatt--secondary))

### Optional

- `tags` (Map of String) Auth Policy Tags

### Read-Only

- `id` (String) Identifier
- `last_updated` (String) Last Updated Time

<a id="nestedatt--primary"></a>
### Nested Schema for `primary`

Required:

- `cert` (Attributes) (see [below for nested schema](#nestedatt--primary--cert))
- `ext_jwt` (Attributes) (see [below for nested schema](#nestedatt--primary--ext_jwt))
- `updb` (Attributes) (see [below for nested schema](#nestedatt--primary--updb))

<a id="nestedatt--primary--cert"></a>
### Nested Schema for `primary.cert`

Optional:

- `allow_expired_certs` (Boolean) Allow expired cert to authentication  Flag
- `allowed` (Boolean) Allow cert based authentication Flag


<a id="nestedatt--primary--ext_jwt"></a>
### Nested Schema for `primary.ext_jwt`

Optional:

- `allowed` (Boolean) Allow external jwt bearer tokens Flag
- `allowed_signers` (List of String) External JWT Signers List to be used for authentication


<a id="nestedatt--primary--updb"></a>
### Nested Schema for `primary.updb`

Optional:

- `allowed` (Boolean) Allow authentication via username and password Flag
- `lockout_duration_minutes` (Number) Allow authentication via username and password Flag
- `max_attempts` (Number) Allow authentication via username and password Flag
- `min_password_length` (Number) Allow authentication via username and password Flag
- `require_mixed_case` (Boolean) Upper and lower case Flag
- `require_number_char` (Boolean) Numerical charecters Flag
- `require_special_char` (Boolean) Flag for special (non-alpha numeric) charachters. ie. !%$@*



<a id="nestedatt--secondary"></a>
### Nested Schema for `secondary`

Optional:

- `jwt_signer` (String) JWT Signer ID
- `require_totp` (Boolean) TOTP Flag

## Import

Import is supported using the following syntax:

```shell
# auth policy can be imported by specifying the identifier.
terraform import ziti_auth_policy.test_auth_policy <ID>
```
